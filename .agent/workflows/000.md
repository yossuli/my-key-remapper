---
description: 普遍的な知見のルール化
---

# [Fix-000] 普遍的な知見のルール化（Add Common Fix）

## 概要

作業中に発見した「普遍的に有用な知見」や「繰り返し発生する修正パターン」を、プロジェクトのナレッジベース（`.agent/common_fixes/`）とルールファイル（`GEMINI.md`）に追加し、チーム（および未来の自分）に共有するためのフローです。

## 手順 (Step-by-Step)

### 1. 知見の抽出とドキュメント化

発見した知見を、他のエージェントや開発者が再現可能な形式で Markdown ファイルにまとめます。

- **ドラフト作成 (必須)**: ドキュメント作成には **[Workflow-023] レビュー用ドラフト作成・編集** を使用してください。
  - 直接 `.agent/workflows/` に作成せず、まず `_drafts/` で作成・ステージング・レビューを行います。
- **ファイル作成**: `.agent/workflows/fix-00X.md` （連番）を想定（実際はドラフト経由）
- もしある場合はそれの修正を行うか確認を取ります
- **内容の記述**:
  - **概要・課題**: なぜこの知見が必要なのか
  - **Bad/Good Example**: 具体的なコード例
  - **Step-by-Step**: 具体的な適用手順
    - 「基本的には分かっているだろう」という暗黙の前提を排除する。
    - 勘違いが起こりうるポイントを先回りして明示する。
    - ※ "Explicitly stating it ensures certainty"（明示することで確実にする）のマインドで記述すること。
  - **知見の継続的改善 (Mandatory)**:
    - 全てのワークフローの末尾に「このドキュメント自体を改善し続けること」を明記したセクションを追加する。
  - **チェックリスト**: 完了条件

### 2. ルールファイルへの登録

作成したドキュメントへのリンクを `GEMINI.md` の「よくある修正リスト (Common Fixes)」セクションに追加します。

- **ファイル**: `.agent/GEMINI.md`
- **追加内容**:
  ```markdown
  - **[Fix-00X] タイトル**: 概要を簡潔に。 (`.agent/common_fixes/fix-00X.md`)
  ```

もし既存の知見を修正する形をとったなら、既存のその知見についての概要を修正してください

### 3. グローバルルールへの反映

作成した知見をグローバルルールとしてエージェントに適用します。

### 4. コミット (Commit)

作成したドキュメントとルールの変更をコミットします。
コミットメッセージのプレフィックスは `docs:` とし、知見の追加であることが分かるように **日本語で** 記述してください。
例: `docs: [タイトル]のためのWorkflow-0XXを追加`

## チェックリスト

- [ ] `.agent/common_fixes/` に詳細な手順書を作成したか？
- [ ] 手順書には「概要」「Bad/Good」「手順」「チェックリスト」が含まれているか？
- [ ] `GEMINI.md` のリストに項目を追加したか？
- [ ] （必要であれば）現在作業中のコードにその知見を適用したか？
- [ ] **変更内容（ドキュメント・ルール）をコミットしたか？**

## 知見の継続的改善 (Continuous Knowledge Improvement)

このワークフローを使用する中で、新しい指示や改善点が見つかった場合は、必ずこのファイル (`.agent/workflows/000.md`) を更新・改善することを提案してください。
