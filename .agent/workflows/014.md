---
description: マジックナンバーの定数化
---

# [Workflow-014] マジックナンバーの定数化 (Refactor Magic Numbers)

## 概要

コード内にハードコードされた数値や文字列リテラル（マジックナンバー）を発見し、適切な定数として定義し直す手順です。

## ルール (Naming & Placement)

- **命名規則**: `UPPER_SNAKE_CASE` (例: `DEFAULT_WINDOW_WIDTH`, `MAX_RETRY_COUNT`)
- **配置場所**:
  - **再利用性が高いもの**: `src/shared/constants/` 配下の適切なファイル。
  - **コンポーネント固有**: ファイル上部の `const` 定義、または同ディレクトリの `constants.ts`。
- **コメント**: その数値が何を意味するのか、なぜその値なのか（根拠があれば）を JSDoc コメント等で記述します。

## 手順 (Step-by-Step)

### 1. マジックナンバーの特定

- コードレビュー中に、意図が不明確な数値や文字列を見つけます。
- `0`, `1`, `""` などの自明な初期値は除外します。

### 2. 定数の定義

- ルールに従って定数を定義します。

```typescript
/**
 * ダブルクリックと判定する最大間隔 (ms)
 * Windowsの標準設定に近い値を採用
 */
export const DOUBLE_CLICK_THRESHOLD_MS = 500;
```

### 3. 置換

- コード内のリテラルを定数に置き換えます。

## チェックリスト

- [ ] 命名は `UPPER_SNAKE_CASE` か？
- [ ] 適切な場所に配置したか？
- [ ] コメントで意味を補足したか？

## 知見の種 (Seed) の記録

運用を通じて得られた「コーディングパターンの改善案」や「ルールの例外事例」は、`seeds.md` (Working Dir) へ記録してください（[Workflow-seed] 準拠）。
