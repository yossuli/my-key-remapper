---
description: 作業ログ(log.md)の運用手順
---

# [Workflow-log] 作業ログ管理 (Work Logging)

## 概要

このワークフローは、プロジェクトにおける作業履歴の透明性を確保し、AI の判断根拠を後から追いやすくするための `log.md` の運用手順を定めます。
本ワークフローの真の目的は、**ログ記録を通じたワークフロー遵守の自己検閲 (Self-Audit)** にあります。

## 保存先

`C:\Users\yo44a\.gemini\antigravity\brain\<conversation-id>\log.md`

## 更新の絶対原則

- **上書き禁止 / 追記型 (Append-Only)**: 常に最新のエントリをファイルの一番上に追記し、プロジェクトの全履歴を永続的に蓄積してください。

## セクション構成と自己検閲メカニズム (Mechanism)

各エントリは、以下の 5 つのセクションを **「予定と実行のリンク」** を意識して記述してください。

### 1. 実行予定の作業 (Planned)

- **役割**: これから行う作業を宣言し、**その作業に適用すべきワークフローを自律的に探索・紐付ける** ステップです。
- **記述内容**:
  - [ ] 作業内容 A (適用予定: [Workflow-XXX])
  - [ ] 作業内容 B (適用予定: [Workflow-YYY])

### 2. 実行した作業 (Accomplished)

- **役割**: Planned で宣言した各ステップに対し、**実際にどのワークフローを使用して実行したか** を対比させて記録します。
- **自己修正ルール**: もし Accomplished を記述している際に、Planned で予定していたワークフローを使用していなかったことに気づいた場合、**即座に作業を中断し、ワークフローを適用した形に修正（やり直し）** してください。その経緯も正直にログに残します。

### 3. なぜそう判断したか（意図） (Rationale)

- **役割**: ワークフローの選択理由や、具体的な実装方針の根拠を記述します。

### 4. 結果どうだったか (Outcomes)

- **役割**: 実行結果と、ワークフロー遵守が正しく行われたかの自己評価を記述します。

### 5. 次に行う計画 (Next Steps)

- **役割**: 次の Planned に繋がる具体的な一歩を記述するための **備忘録** です。
- **重要（承認の不在と知見の昇華）**:
  - ここに記述した内容は、**ユーザーへの提案でもなければ、実行の承認依頼でもありません**。
  - あくまで「AI が忘れないためのメモ」であり、ここに書いたからといって自動的に次の行動が許可されるわけではありません。
  - **知見の昇華チェック**: 完了報告を行う前に、必ず `seeds.md` を確認し、今回の作業で得られた知見のルール化（[Workflow-000]）を打診すべきか検討してください。
  - **行動の承認は、必ず `notify_user` などの対話ツールを通じて、ユーザーから明示的な許可（y/n）を得てから行ってください。**

## 記載例 (Example)

```markdown
# 作業ログ (log.md)

### 2026-01-12 21:20 (Antigravity)

#### 実行予定の作業

> [!IMPORTANT]
>
> **過去のログを絶対に消さないでください。**
> 新しいログは常に過去のログの上に追記します。

---

### 2026-01-12 21:55 (Antigravity)

#### 実行予定の作業

- [x] 既存ファイル `Workflow-023.md` の修正 (適用予定: [Workflow-023])
- [ ] 修正案の承認依頼 (適用予定: [Workflow-024])

#### 実行した作業

- 21:57: 承認を求める

#### なぜそう判断したか（意図）

- 承認を受けてから実行することで間違いの無いようにする

#### 結果どうだったか

> [!IMPORTANT]
> このような次の計画を行う際に過去の状態を編集する必要がある部分に関しては、修正をおこなうべきです

- [返答を受けてから編集]

#### 次に行う計画

- ドラフトを本来の場所に移動する (適用予定: [Workflow-023] )

### 2026-01-12 21:50 (Antigravity)

#### 実行予定の作業

- [ ] 既存ファイル `Workflow-023.md` の修正 (適用予定: [Workflow-023])
- [ ] 修正案の承認依頼 (適用予定: [Workflow-024])

#### 実行した作業

- 21:48: `cp` と `git add` による差分可視化準備を完了。
- **使用ワークフロー**: [Workflow-023] (既存ファイル編集フロー)
- 21:50: `replace_file_content` によるドラフト編集。

#### なぜそう判断したか（意図）

- [Workflow-023] を適用することで、ユーザーのレビュー負荷を下げ、正確な差分を提示するため。

#### 結果どうだったか

- エディタ上で期待通りの Diff が表示されたとユーザーから返答を受けた。

#### 次に行う計画

- 承認依頼を行う

---

### 2026-01-12 21:45 (Antigravity)

#### 実行予定の作業

...
```

## 知見の種 (Seed of Knowledge)

作業中に「これは繰り返されるパターンだ」と感じた知見があった場合、**[Workflow-seed] 知見の管理 (seed_management.md)** に従い、ワーキングディレクトリの `seeds.md` に [Seed] として記録してください。

記録場所を一元化し、規約に基づいた警告ヘッダーを維持することで、安全かつ確実にナレッジ化します。これは後に [Workflow-000] に基づいてルール化される対象となります。

## チェックリスト

- [ ] **過去のログを消さず、新しい内容を一番上に追記したか？**
- [ ] **Planned で各作業に対応するワークフローを事前に探索・明記したか？**
- [ ] **Accomplished を書く際、予定したワークフローを正しく適用したか自己検閲したか？**
- [ ] ログは常に日本語で記述されているか？
- [ ] 実行時刻が含まれているか？
- [ ] エントリ間が区切り線（---）で区切られているか？
