---
description: 普遍的な知見のルール化
---

# [Workflow-000] 普遍的な知見のルール化 / 能動的知見資産化 (Rule-making / Proactive Knowledge Capture)

## 概要

作業中に発見した「普遍的に有用な知見」や「繰り返し発生する修正パターン」を、プロジェクトのルール（`GEMINI.md`, `RULE.md`）およびワークフロー（`.agent/workflows/`）として定着させるためのプロセスです。AI 側からも能動的に提案し、プロジェクトの「脳」を自律的に強化し続けることを目的とします。

- **知見の種 (Seed)**: 作業中に繰り返されるパターンを発見した場合、ワーキングディレクトリの `seeds.md` に **[Seed]** として記録してください。
  - **重要**: `seeds.md` を新規作成または更新する際は、必ず冒頭に AI 向けの「ルールではない」旨の警告ヘッダー（後述する定型文）を付与または維持してください。

## 能動的提案のトリガー (AI's Duty)

AI は以下の状況に遭遇した場合、自律的に本ワークフローの実行（新規作成または既存改定の提案）をユーザーに打診してください。

1.  **パターンの反復**: 同じ修正、設計判断、または説明を 2 回以上行った場合。
2.  **複雑な手順の解決**: 調査や試行錯誤の末に、特定の課題に対する「正解の手順」を確立した場合。
3.  **ユーザーからの指摘**: ユーザーから「次回からこうしてほしい」「これがルールだ」という重要な示唆を受けた場合。

## 手順 (Step-by-Step)

### 1. 知見の抽出とドラフト作成

発見した知見を、他のエージェントや開発者が再現可能な形式で Markdown ファイルにまとめます。

- **ドラフト作成 (必須)**: ドキュメント作成には **[Workflow-023] 規約・ワークフロー編集時のドラフト運用** を使用してください。
- **ファイル作成**: `.agent/workflows/XXX.md` （三桁の連番）
- **内容の記述**:
  - **概要・課題**: なぜこの知見が必要なのか
  - **Bad/Good Example**: 具体的なコード例
  - **Step-by-Step**: 具体的な適用手順
    - 「基本的には分かっているだろう」という暗黙の前提を排除する。
    - 勘違いが起こりうるポイントを先回りして明示する。
    - ※ "Explicitly stating it ensures certainty"（明示することで確実にする）のマインドで記述すること。
  - **知見の継続的改善 (Mandatory)**:
    - 全てのワークフローの末尾に「このドキュメント自体を改善し続けること」を明記したセクションを追加する。
  - **チェックリスト**: 完了条件

### 2. ルールリストへの登録

作成したワークフローの概要を、プロジェクトのルールインデックスに追加します。

- **反映先**: `.agent/RULE.md` の「運用ルール・ワークフロー一覧」セクション。
- **追加内容**:
  ```markdown
  - **[Workflow-XXX] タイトル**: 概要を簡潔に。 (`.agent/workflows/XXX.md`)
  ```
- **直接編集**: 規約ファイルの編集は、[GEMINI.md] の指示通り、ドラフトを通さず修正案の提示と承認（Atomic Approval）を経て直接更新します。

### 3. コミット (Commit)

承認されたドキュメントとルールの変更をコミットします。
コミットメッセージのプレフィックスは `docs:` とし、日本語で簡潔に記述します。
例: `docs: [タイトル] のための Workflow-XXX を追加`

## チェックリスト

- [ ] 2 回以上の反復や重要な知見を自律的に検知し、提案したか？
- [ ] **[Workflow-023]** に則り、`_drafts/` ディレクトリで作成・レビューを行ったか？
- [ ] `RULE.md` のインデックスに項目を正しく追加したか？
- [ ] 変更内容を `docs:` プレフィックスで日本語コミットしたか？

## 知見の継続的改善 (Continuous Knowledge Improvement)

このワークフローを自律的に強化し続けるため、改善点があれば本ファイル (`.agent/workflows/000.md`) 自体の更新を提案してください。
