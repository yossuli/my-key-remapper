---
description: Table廃止・Grid推奨 (No Tables, Use Grid)
---

# [Workflow-029] Table 廃止・Grid 推奨 (No Tables, Use Grid)

## 概要

データの一覧表示などのレイアウトにおいて、HTML の `<table>` タグを使用せず、CSS Grid (`display: grid`) を使用した `div` 構成を採用するルールです。
特に、モダンブラウザでサポートされている **CSS Subgrid (`subgrid`)** を積極的に活用し、セマンティックかつ保守性の高いレイアウトを構築します。

## 背景・目的

- **柔軟なレイアウト**: Grid は CSS クラスの変更だけで柔軟に変更が可能です。
- **一元管理**: 親コンテナで列定義を一元管理し、子要素（ヘッダーや行）がそれを継承することで、列ズレを完全に防ぎます。
- **DX (Developer Experience)**: 行コンポーネント側で幅を意識する必要がなくなり、再利用性が向上します。

## ルール (Rules)

### 1. Table タグの禁止

- `<table>`, `<thead>`, `<tbody>`, `<tr>`, `<td>`, `<th>` は原則使用しません。
- 代わりに `div` (または意味的な `role="table"` 等) を使用します。

### 2. Subgrid による列定義 (推奨)

- **親コンテナ**: [`grid-cols-...`] で列のカラム定義を行います。
- **子要素 (行・ヘッダー)**: 以下のクラスを組み合わせて適用し、親の定義を継承します。
  - `grid`: グリッドコンテナ化
  - `grid-cols-subgrid`: 親の列トラック定義を継承
  - `col-span-full`: 親グリッドの全幅を使用（行として振る舞うため）

### 3. Tailwind 任意の値を活用

- `grid-cols-[1fr_6rem_8rem]` のように、JIT モードの任意値構文を活用して、直感的に列構成を定義します。

## 実装例 (Examples)

### ❌ Bad: Table タグ

```tsx
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Item A</td>
      <td>Active</td>
    </tr>
  </tbody>
</table>
```

### ❌ Bad: 個別 Grid 定義 (メンテナンス困難)

```tsx
<div>
  {/* 各行で同じ定義を繰り返している -> 修正漏れの原因 */}
  <div className="grid grid-cols-[1fr_100px]">...</div>
  <div className="grid grid-cols-[1fr_100px]">...</div>
  <div className="grid grid-cols-[1fr_100px]">...</div>
</div>
```

### ✅ Good: Subgrid 活用

```tsx
{
  /* Parent: Define columns ONCE here */
}
<div className="grid w-full grid-cols-[1fr_100px_80px]">
  {/* Header: Inherit grid */}
  <div className="grid grid-cols-subgrid col-span-full border-b px-4 py-2 font-bold">
    <div>Name</div>
    <div>Status</div>
    <div>Action</div>
  </div>

  {/* Body Wrapper (Optional, often treated as contents) */}
  <div className="col-span-full grid grid-cols-subgrid">
    {/* OR simply render rows directly if they are direct children */}

    {items.map((item) => (
      // Row: Inherit grid
      <div
        key={item.id}
        className="grid grid-cols-subgrid col-span-full border-b px-4 py-2 hover:bg-muted"
      >
        <div>{item.name}</div>
        <div>{item.status}</div>
        <div>...</div>
      </div>
    ))}
  </div>
</div>;
```

> [!NOTE] > `subgrid` を使用する場合、行要素 (`div`) 自体も Grid アイテムであり、かつ Grid コンテナになります。`col-span-full` を忘れると、最初の 1 カラムに押し込められてしまうので注意してください。

## チェックリスト

- [ ] `<table>` タグを使用していないか？
- [ ] 親コンテナで `grid-cols` を定義し、子要素で `grid-cols-subgrid` を使用しているか？
- [ ] 行要素に `col-span-full` が適用されているか？

## 知見の継続的改善

ブラウザ互換性などの問題で Subgrid が適さない特例的なケースが見つかった場合は、代替案と共に本ドキュメントを更新してください。
